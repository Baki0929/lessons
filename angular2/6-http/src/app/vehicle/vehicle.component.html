<h1>Тээврийн хэрэгслийн жагсаалт</h1>
<hr>

<button *ngIf="!isUpdating" (click)="setNewModel()" type="button" class="btn btn-primary btn-sm pull-right" data-toggle="modal" data-target="#myModal">
	<span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Шинэ тээврийн хэрэгсэл бүртгэх
</button>

<button *ngIf="isUpdating" type="button" class="btn btn-primary btn-sm pull-right disabled">
	<span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> Шинэ тээврийн хэрэгсэл бүртгэж байна...
</button>

<div class="clearfix"></div>
<hr>
<div class="row list-item">
	<div class="col-md-2"><b>Дугаар</b></div>
	<div class="col-md-4"><b>Загвар</b></div>
	<div class="col-md-4"><b>Он</b></div>
	<div class="col-md-2"></div>
</div>

<div class="row list-item" *ngFor="let item of vehicles">
	<div class="col-md-12"><hr></div>
	<div class="col-md-2">{{ item.uid }}</div>
	<div class="col-md-4">{{ item.manufacturer }} {{ item.model }}</div>
	<div class="col-md-4">{{ item.year }}</div>
	<div class="col-md-2">
		<button (click)="onUpdate(item)" data-toggle="modal" data-target="#myModal" type="button" class="btn btn-success btn-sm">
			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Засах
		</button>
		<button (click)="onDelete(item.id)" type="button" class="btn btn-warning btn-sm">
			<span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Устгах
		</button>
	</div>
</div>

<div class="modal fade" tabindex="-1" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">Шинэ тээврийн хэрэгсэл бүртгэх</h4>
			</div>

			<form>
				<div class="modal-body">
					<div class="form-group">
						<label>Улсын дугаар</label>
						<input class="form-control" name="uid" [(ngModel)]="model.uid">
					</div>
					<div class="form-group">
						<label>Үйлдвэрлэгч</label>
						<input class="form-control" name="manufacturer" [(ngModel)]="model.manufacturer">
					</div>
					<div class="form-group">
						<label>Загвар</label>
						<input class="form-control" name="model" [(ngModel)]="model.model">
					</div>
					<div class="form-group">
						<label>Он</label>
						<input class="form-control" name="year" [(ngModel)]="model.year">
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Цуцлах</button>
					<button type="submit" (click)="onSubmit()" data-dismiss="modal" class="btn btn-primary">Бүртгэх</button>
				</div>
			</form>
		</div>
	</div>
</div>